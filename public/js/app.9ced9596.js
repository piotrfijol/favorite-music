(function(e){function t(t){for(var c,a,r=t[0],i=t[1],u=t[2],p=0,b=[];p<r.length;p++)a=r[p],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&b.push(o[a][0]),o[a]=0;for(c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c]);l&&l(t);while(b.length)b.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],c=!0,r=1;r<n.length;r++){var i=n[r];0!==o[i]&&(c=!1)}c&&(s.splice(t--,1),e=a(a.s=n[0]))}return e}var c={},o={app:0},s=[];function a(t){if(c[t])return c[t].exports;var n=c[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=c,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)a.d(n,c,function(t){return e[t]}.bind(null,c));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var l=i;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"038d":function(e,t,n){},"04d1":function(e,t,n){"use strict";n("038d")},"06d9":function(e,t,n){"use strict";n("aefe")},"2e88":function(e,t,n){},"32d1":function(e,t,n){},4144:function(e,t,n){e.exports=n.p+"img/no-preview.d8cbe2f2.png"},4854:function(e,t,n){},"4a88":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("7a23");function o(e,t,n,o,s,a){var r=Object(c["y"])("router-view");return Object(c["q"])(),Object(c["d"])(r)}var s={components:{},name:"App"};n("bb66");s.render=o;var a=s,r=n("6c02"),i=Object(c["g"])("p",{class:"title"}," My favorite songs ",-1),u={class:"container mt-5"},l={class:"row"};function p(e,t,n,o,s,a){var r=Object(c["y"])("song-card");return Object(c["q"])(),Object(c["f"])("div",null,[i,Object(c["g"])("div",u,[Object(c["g"])("div",l,[(Object(c["q"])(!0),Object(c["f"])(c["a"],null,Object(c["w"])(s.favoriteSongs,(function(e){return Object(c["q"])(),Object(c["d"])(r,{class:"align-self-center",key:e.id,song:e},null,8,["song"])})),128))])])])}var b=n("1da1");n("96cf"),n("d3b7");Object(c["t"])("data-v-5c0de74c");var g={class:"card mx-auto"},d={class:"row"},f={class:"col-4"},j=["src"],O={class:"col-8 d-flex justify-content-center align-items-center"},v={class:"column"},m={class:"card__artist"},h={class:"card__title"};function _(e,t,n,o,s,a){return Object(c["q"])(),Object(c["f"])("div",g,[Object(c["g"])("div",d,[Object(c["g"])("div",f,[Object(c["g"])("img",{class:"card__album-cover",src:n.song.album_cover_url},null,8,j)]),Object(c["g"])("div",O,[Object(c["g"])("div",v,[Object(c["g"])("p",m,Object(c["A"])(n.song.artist),1),Object(c["g"])("p",h,Object(c["A"])(n.song.title),1)])])])])}Object(c["r"])();var y={name:"song-card",props:{song:Object}};n("a420");y.render=_,y.__scopeId="data-v-5c0de74c";var w=y,P={name:"Home",components:{SongCard:w},data:function(){return{favoriteSongs:[]}},mounted:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("http://localhost/api/v1","/songs/")).then((function(e){return e.json()}));case 2:n=t.sent,e.favoriteSongs=n;case 4:case"end":return t.stop()}}),t)})))()}};P.render=p;var x=P;Object(c["t"])("data-v-6fd86beb");var S={class:"content"},q=Object(c["g"])("p",{class:"title"}," Search for your favorite song: ",-1);function U(e,t,n,o,s,a){var r=Object(c["y"])("search-bar"),i=Object(c["y"])("song-info");return Object(c["q"])(),Object(c["f"])("main",null,[Object(c["g"])("div",S,[q,Object(c["h"])(r,{onPopup:a.showPopUp},null,8,["onPopup"])]),s.isPopUpVisible?(Object(c["q"])(),Object(c["d"])(i,{key:0,onClose:a.closePopUp,song:s.song},null,8,["onClose","song"])):Object(c["e"])("",!0)])}Object(c["r"])();var k=n("8dfb"),A=n.n(k);Object(c["t"])("data-v-2e9994b0");var I={class:"search-box"},C={class:"search-bar"},F=Object(c["g"])("img",{src:A.a,alt:"magnifying glass",class:"icon"},null,-1);function M(e,t,n,o,s,a){var r=Object(c["y"])("auto-suggestion");return Object(c["q"])(),Object(c["f"])("div",I,[Object(c["g"])("div",C,[Object(c["G"])(Object(c["g"])("input",{onFocus:t[0]||(t[0]=function(){return a.toggleFocus&&a.toggleFocus.apply(a,arguments)}),onBlur:t[1]||(t[1]=function(){return a.toggleFocus&&a.toggleFocus.apply(a,arguments)}),"onUpdate:modelValue":t[2]||(t[2]=function(e){return s.searchPhrase=e}),onInput:t[3]||(t[3]=function(){return a.searchSongs&&a.searchSongs.apply(a,arguments)}),type:"text",class:"search-bar"},null,544),[[c["C"],s.searchPhrase]]),F]),Object(c["G"])(Object(c["h"])(r,{onPopup:a.handlePopUp,songs:s.songs},null,8,["onPopup","songs"]),[[c["D"],s.focus]])])}Object(c["r"])(),Object(c["t"])("data-v-7e12cf70");var R={class:"auto-suggestion"},T={key:1,class:"text-secondary mt-4 text-left"};function B(e,t,n,o,s,a){var r=this,i=Object(c["y"])("suggestion");return Object(c["q"])(),Object(c["f"])("div",R,[0!==n.songs.length?(Object(c["q"])(!0),Object(c["f"])(c["a"],{key:0},Object(c["w"])(n.songs,(function(e){return Object(c["q"])(),Object(c["d"])(i,{onPopup:function(t){return r.$emit("popup",e)},song:e,key:e.id},null,8,["onPopup","song"])})),128)):(Object(c["q"])(),Object(c["f"])("p",T,"No songs found..."))])}Object(c["r"])();n("b0c0");Object(c["t"])("data-v-c1421036");var V={class:"text-white d-flex suggestion"},$=["src"];function D(e,t,n,o,s,a){var r,i=this;return Object(c["q"])(),Object(c["f"])("div",V,[Object(c["g"])("img",{class:"suggestion__album-cover",src:null!==(r=n.song.album.images[2].url)&&void 0!==r?r:"",alt:""},null,8,$),Object(c["g"])("a",{onMousedown:t[0]||(t[0]=function(e){return i.$emit("popup")}),class:"song-info"},Object(c["A"])(n.song.artists[0].name)+" - "+Object(c["A"])(n.song.name),33)])}Object(c["r"])();var Q={name:"suggestion",data:function(){return{popUpVisible:!1}},props:{song:Object}};n("a172");Q.render=D,Q.__scopeId="data-v-c1421036";var z=Q,J={name:"auto-suggestion",components:{Suggestion:z},props:{songs:Array}};n("5ea4");J.render=B,J.__scopeId="data-v-7e12cf70";var G=J,H={components:{AutoSuggestion:G},name:"search-bar",data:function(){return{focus:!1,searchPhrase:"",songs:[]}},methods:{handlePopUp:function(e){this.$emit("popup",e)},toggleFocus:function(){this.focus=!this.focus},searchSongs:function(){var e=this;return Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.spotify.com/v1/search?q=".concat(e.searchPhrase,"&type=track%2Cartist&market=US&limit=10&offset=5"),{headers:{Authorization:"Bearer ".concat("PLACE_FOR_TOKEN")}}).then((function(e){return e.json()})).catch((function(e){return e}));case 2:e.songs=t.sent;try{e.songs=e.songs.tracks.items}catch(n){e.songs=[]}case 4:case"end":return t.stop()}}),t)})))()}}};n("ea48");H.render=M,H.__scopeId="data-v-2e9994b0";var N=H;Object(c["t"])("data-v-4e1a39d0");var W={class:"song-info"},E=Object(c["g"])("p",{class:"popup-title"},"Song Details:",-1),L={class:"container"},X={class:"row"},K={class:"col-xs-12 col-md-4 main-info"},Y=["src"],Z={class:"song-info__artist"},ee={class:"song-info__title"},te={class:"col-md-8 additional-info"},ne={class:"container p-0"},ce={class:"column"},oe={class:"d-flex justify-content-around w-100"},se={class:"song-info__detail"},ae=Object(c["g"])("p",{class:"song-info__detail__label"},"Album:",-1),re={class:"song-info__detail__content"},ie={class:"song-info__detail"},ue=Object(c["g"])("p",{class:"song-info__detail__label"},"Release Date:",-1),le={class:"song-info__detail__content"},pe={class:"song-info__detail my-4 pt-2"},be=Object(c["g"])("div",{class:"song-info__detail__label"},"Song Preview:",-1),ge={ref:"audio-player",controls:""},de=["src"],fe={class:"d-flex justify-content-end"};function je(e,t,n,o,s,a){var r=this,i=Object(c["y"])("pop-up");return Object(c["q"])(),Object(c["d"])(i,{onClose:t[1]||(t[1]=function(e){return r.$emit("close")})},{default:Object(c["F"])((function(){return[Object(c["g"])("div",W,[E,Object(c["g"])("div",L,[Object(c["g"])("div",X,[Object(c["g"])("div",K,[Object(c["g"])("div",null,[Object(c["g"])("img",{class:"song-info__album-cover",src:a.albumCover,alt:""},null,8,Y)]),Object(c["g"])("div",null,[Object(c["g"])("p",Z,Object(c["A"])(n.song.artists[0].name),1),Object(c["g"])("p",ee,Object(c["A"])(a.songTitle),1)])]),Object(c["g"])("div",te,[Object(c["g"])("div",ne,[Object(c["g"])("div",ce,[Object(c["g"])("div",oe,[Object(c["g"])("div",se,[ae,Object(c["g"])("p",re,Object(c["A"])(n.song.album.name),1)]),Object(c["g"])("div",ie,[ue,Object(c["g"])("p",le,Object(c["A"])(n.song.album.release_date),1)])]),Object(c["g"])("div",pe,[be,Object(c["g"])("audio",ge,[Object(c["g"])("source",{src:n.song.preview_url,type:"audio/mpeg"},null,8,de)],512)]),Object(c["g"])("div",fe,[Object(c["g"])("button",{onClick:t[0]||(t[0]=function(){return a.addFavorite&&a.addFavorite.apply(a,arguments)}),class:"btn btn-success"},"Add Favorite")])])])])])])])]})),_:1})}Object(c["r"])();n("3ca3"),n("ddb0"),n("2b3d"),n("fb6a");var Oe={class:"d-flex justify-content-center align-items-center"},ve={class:"popup"},me=Object(c["g"])("div",{class:"cross"},null,-1),he=[me],_e=Object(c["g"])("div",{class:"popup__overlay"},null,-1);function ye(e,t,n,o,s,a){var r=this;return Object(c["q"])(),Object(c["f"])("div",Oe,[Object(c["g"])("div",ve,[Object(c["g"])("div",{onClick:t[0]||(t[0]=function(e){return r.$emit("close")}),class:"popup__close"},he),Object(c["x"])(e.$slots,"default")]),_e])}var we={name:"pop-up",props:{song:Object}};n("884e");we.render=ye;var Pe=we,xe=n("4144"),Se=n.n(xe),qe={name:"song-info",components:{PopUp:Pe},props:{song:Object},methods:{addFavorite:function(){var e=new URLSearchParams;e.append("id",this.song.id),e.append("cover_url",this.albumCover),e.append("artist",this.song.artists[0].name),e.append("title",this.song.name),fetch("".concat("http://localhost/api/v1","/songs/create"),{method:"POST",body:e})}},computed:{songTitle:function(){var e=this.song.name,t=75;return e.length>t?e.slice(0,t)+"...":e},albumCover:function(){return this.song.album.images[1].url?this.song.album.images[1].url:Se.a}},mounted:function(){var e=this.$refs["audio-player"];e.volume=.2}};n("04d1");qe.render=je,qe.__scopeId="data-v-4e1a39d0";var Ue=qe,ke={components:{SearchBar:N,SongInfo:Ue},name:"Search",data:function(){return{isPopUpVisible:!1,song:{}}},methods:{showPopUp:function(e){this.song=e,this.isPopUpVisible=!0},closePopUp:function(){this.isPopUpVisible=!1}}};n("06d9");ke.render=U,ke.__scopeId="data-v-6fd86beb";var Ae=ke,Ie=[{path:"/",name:"Home",component:x},{path:"/search",name:"Search",component:Ae}],Ce=Object(r["a"])({history:Object(r["b"])("/favorite/"),routes:Ie}),Fe=Ce;Object(c["c"])(a).use(Fe).mount("#app")},"5ea4":function(e,t,n){"use strict";n("4854")},"78e6":function(e,t,n){},"884e":function(e,t,n){"use strict";n("32d1")},"8dfb":function(e,t,n){e.exports=n.p+"img/magn_glass.c9d0fac5.svg"},a172:function(e,t,n){"use strict";n("c47f")},a420:function(e,t,n){"use strict";n("4a88")},aefe:function(e,t,n){},bb66:function(e,t,n){"use strict";n("2e88")},c47f:function(e,t,n){},ea48:function(e,t,n){"use strict";n("78e6")}});
//# sourceMappingURL=app.9ced9596.js.map